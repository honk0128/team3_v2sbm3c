<!DOCTYPE html>
<html layout:decorate="~{th/layout}">
  <div layout:fragment="content">
    <!-- Header start -->
    <div class="container-fluid page-header py-5">
      <h1 class="text-center text-white display-6">
        <span>주간 식단</span>
      </h1>
    </div>
    <!-- Header End -->

    <!-- 컨테이너  -->
    <div class="container-fluid fruite py-5">
      <div class="container py-5">
        <h2 th:if="${weekdates != null}" class="text-center">
          <span>기간: <span th:text="${weekdates}"></span></span>
        </h2>
        <form action="/week/list_combined" method="get" class="d-flex justify-content-center my-3">
          <input type="hidden" name="accountno" th:value="${accountno}"/>
          <select id="weekdates" name="weekdates" class="border-0 form-select-sm bg-light me-3">
            <option value="">-- 주간을 선택해주세요 --</option>
            <option th:each="weekVO : ${weekDatesList}" th:text="${weekVO.weekdates}" th:value="${weekVO.weekdates}"></option>
          </select>
          <button type="submit" class="btn btn-primary border-0 border-secondary py-2 px-3 rounded-pill text-black">선택</button>
          <h2 th:if="${weekList != null}" th:text="${weekVO.weekdates}"></h2>
        </form>
        <table class="table table-hover text-center" th:if="${weekList != null}" th:each="weekVO : ${weekList}">
          <colgroup>
            <col style="width: 10%"></span>
            <col style="width: 10%"></span>
            <col style="width: 10%"></span>
            <col style="width: 10%"></span>
            <col style="width: 10%"></span>
            <col style="width: 10%"></span>
            <col style="width: 10%"></span>
            <col style="width: 10%"></span>
          </colgroup>
          <thead>
            <tr>
              <th></th>
              <th>월요일</th>
              <th>화요일</th>
              <th>수요일</th>
              <th>목요일</th>
              <th>금요일</th>
              <th>토요일</th>
              <th>일요일</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th>아침</th>
              <td><span th:text="${weekVO.monbreakfast}"></span></td>
              <td><span th:text="${weekVO.tuebreakfast}"></span></td>
              <td><span th:text="${weekVO.wedbreakfast}"></span></td>
              <td><span th:text="${weekVO.thubreakfast}"></span></td>
              <td><span th:text="${weekVO.fribreakfast}"></span></td>
              <td><span th:text="${weekVO.satbreakfast}"></span></td>
              <td><span th:text="${weekVO.sunbreakfast}"></span></td>
            </tr>
            <tr>
              <th>점심</th>
              <td><span th:text="${weekVO.monlunch}"></span></td>
              <td><span th:text="${weekVO.tuelunch}"></span></td>
              <td><span th:text="${weekVO.wedlunch}"></span></td>
              <td><span th:text="${weekVO.thulunch}"></span></td>
              <td><span th:text="${weekVO.frilunch}"></span></td>
              <td><span th:text="${weekVO.satlunch}"></span></td>
              <td><span th:text="${weekVO.sunlunch}"></span></td>
            </tr>
            <tr>
              <th>저녁</th>
              <td><span th:text="${weekVO.mondinner}"></span></td>
              <td><span th:text="${weekVO.tuedinner}"></span></td>
              <td><span th:text="${weekVO.weddinner}"></span></td>
              <td><span th:text="${weekVO.thudinner}"></span></td>
              <td><span th:text="${weekVO.fridinner}"></span></td>
              <td><span th:text="${weekVO.satdinner}"></span></td>
              <td><span th:text="${weekVO.sundinner}"></span></td>
            </tr>
            <tr>
              <th>칼로리</th>
              <td><span th:text="${weekVO.moncal}"></span> Kcal</td>
              <td><span th:text="${weekVO.tuecal}"></span> Kcal</td>
              <td><span th:text="${weekVO.wedcal}"></span> Kcal</td>
              <td><span th:text="${weekVO.thucal}"></span> Kcal</td>
              <td><span th:text="${weekVO.frical}"></span> Kcal</td>
              <td><span th:text="${weekVO.satcal}"></span> Kcal</td>
              <td><span th:text="${weekVO.suncal}"></span> Kcal</td>
            </tr>
          </tbody>
        </table>

        <div class="d-flex justify-content-center mt-3" th:if="${weekList != null}">
        <!-- 수정 버튼 -->
          <input type="hidden" name="weekdates" th:value="${weekdates}"/>
          <button class="btn btn-primary border-0 border-secondary py-2 px-3 rounded-pill text-black mx-1"
          th:attr="onclick=|location.href='/week/update?accountno=${accountno}&weekdates=${weekdates}'|">수정</button>

          <!-- 삭제 버튼 -->
          <form action="/week/delete" method="post">
            <input type="hidden" name="accountno" th:value="${accountno}"/>
            <input type="hidden" name="weekdates" th:value="${weekdates}"/>
            <button type="submit" class="btn btn-primary border-0 border-secondary py-2 px-3 rounded-pill text-black mx-1">삭제</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</html>
